## Cursor Notes
- Primary focus: trainer availability, booking, and admin slot management using Convex + Next.js + shadcn/ui.
- Key flows:
  - Super-admin: `super-admin/manage-trainer/trainers/[trainerId]` for trainer details, availability dialog, sessions, and link to calendar page.
  - Admin calendar: `/super-admin/manage-trainer/trainers/[trainerId]/calendar` shows calendar, 30/60 min tabs, per-slot toggles, bulk toggle (skips booked), booked badge, and stats.
  - User booking: `/book/[trainerId]/[sessionId]` with availability-aware calendar, booked/disabled slots grayed out, multiple selections up to package limit, and booking creation.
  - User bookings list: `/your-bookings`.
- Data sources:
  - Availability: `convex/availability.ts` + weekly day/time windows.
  - Per-date slot overrides: `convex/trainerSlots.ts` (toggleSlot, toggleAll, setSlotsForDate).
  - Bookings: `convex/bookings.ts` (conflict checks, confirmed status).
  - Time helpers: `lib/booking-utils.ts` (generateTimeSlots, dateToLocalString, getDayName, rounding).
- UX rules:
  - Use shadcn components (Dialog, Tabs, Calendar, Switch, Button, Select, Toast).
  - Disable booked slots; show "(Booked)" label; do not allow toggling booked slots.
  - Bulk “All Slots” toggle only touches non-booked slots for the selected date/duration.
  - Dates before today or without availability are disabled in calendars.
- Timezone: always use local date strings (`dateToLocalString`) to avoid UTC day shifts.
- Styling: prefer existing shadcn theme; ignore external screenshot colors.
